<div fxLayout="row wrap" fxLayoutGap="10px grid" fxLayoutAlign="stretch" >
  <div fxFlex="60%" class="hierarchy-area">
    <div class="service-hierarchy" *ngIf="show == true">
      <h3 style="margin: 0;">Service Hierarchy</h3>
      <div style="max-height: 70vh;overflow-y: auto;">
        <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="example-tree">
          <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
            <ng-container *ngIf="node.end">
              <mat-radio-button (change)="myService(node.id)">{{node.title}}</mat-radio-button>
            </ng-container>
            <ng-container *ngIf="!node.end">{{node.title}}</ng-container>
          </mat-tree-node>
          <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
            <div class="mat-tree-node">
              {{node.title}}
              <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.title">
                <mat-icon class="mat-icon-rtl-mirror">
                  {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                </mat-icon>
              </button>
            </div>
            <div [class.example-tree-invisible]="!treeControl.isExpanded(node)" role="group">
              <ng-container matTreeNodeOutlet>
              </ng-container>
            </div>
          </mat-nested-tree-node>
        </mat-tree>
      </div>
    </div>

    <div class="area-hierarchy" *ngIf="show == false">
      <h3 style="margin: 0;">Area Hierarchy</h3>
      <div style="max-height: 70vh;overflow-y: auto;">
        <mat-tree [dataSource]="dataSource2" [treeControl]="treeControl" class="example-tree">
          <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
            <ng-container *ngIf="node.end">
              <mat-checkbox (change)="myArea($event, node.id)" style="margin-right:10px">{{node.title}}</mat-checkbox>
            </ng-container>
            <ng-container *ngIf="!node.end">{{node.title}}</ng-container>
          </mat-tree-node>
          <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
            <div class="mat-tree-node">
              {{node.title}}
              <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.title">
                <mat-icon class="mat-icon-rtl-mirror">
                  {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                </mat-icon>
              </button>
            </div>
            <div [class.example-tree-invisible]="!treeControl.isExpanded(node)" role="group">
              <ng-container matTreeNodeOutlet></ng-container>
            </div>
          </mat-nested-tree-node>
        </mat-tree>
      </div>
    </div>


  </div>
  <div fxFlex="40%">
    <div class="view" *ngIf="serviceItem">
      <h3 style="margin-top:0;">Selected Service</h3>
      <div class="img">
        <img src="assets/images/ac.jpg" alt="">
      </div>
      <div class="details">
        <h3>{{serviceItem.title}}</h3>
        <p>{{serviceItem.detail}}</p>
        <p>Price: {{serviceItem.price}}/unit</p>
      </div>
    </div>
    
    <div class="view" *ngIf="areaItems.length > 0">
      <h3 style="margin-top:0;">Selected Areas</h3>
      <div class="details">
        <ul>
          <li *ngFor="let area of areaItems">{{area.title}}</li>
        </ul>
      </div>
    </div>
  </div>

  <div fxFlex="100%">
    <div class="text-right" *ngIf="show == true">
      <button mat-stroked-button [disabled]="!serviceItem" (click)="next()">Next</button>
    </div>
    <div class="text-right" *ngIf="show == false">
      <button mat-stroked-button style="margin-right: 6px;" (click)="previous()">Previous</button>
      <button mat-raised-button color="black" [disabled]="!areaItems.length > 0" (click)="addMyServices()">Submit</button>
    </div>
  </div>
</div>
